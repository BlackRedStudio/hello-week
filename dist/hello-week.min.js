function __spreadArrays(){for(var t=0,e=0,s=arguments.length;e<s;e++)t+=arguments[e].length;for(var a=Array(t),i=0,e=0;e<s;e++)for(var n=arguments[e],o=0,l=n.length;o<l;o++,i++)a[i]=n[o];return a}function warn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.warn.apply(console,__spreadArrays(["[WARN]"],t))}function log(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,__spreadArrays(["[LOG]"],t))}function error(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];throw new Error("[Hello Week Error ("+version+")]: "+t)}function isDef(t){return void 0!==t&&null!==t}function isString(t){return"string"==typeof t}function render(t,e){if(t.split)return document.createTextNode(t);var s=document.createElement(t.nodeName),a=t.attributes||{};return Object.keys(a).forEach(function(t){return s.setAttribute(t,a[t])}),(t.children||[]).forEach(function(t){return s.appendChild(render(t))}),e?e.appendChild(s):s}function h(t,e){for(var s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];var i={nodeName:t};return e&&(i.attributes=e),s.length&&(i.children=[].concat.apply([],s)),i}function createElement(t,e,s,a){return render(h(t,e,s),a)}function setStyle(t,e,s){return t.style.setProperty(e,s)}function addClass(t,e){return t.classList.add(e)}function removeClass(t,e){return t.classList.remove(e)}function toggleClass(t,e){return t.classList.toggle(e)}function existElement(t,e){return isDef(e)?e.querySelector("."+t):document.querySelector("."+t)}function extend(t,e){return Object.assign(t,e)}function build(t,e){var s={};return isString(t.selector)||isDef(t.selector)||error("You need to specify a selector!"),s.selector=t.selector?document.querySelector(t.selector):t.selector,isDef(s.selector)?t.selector!==cssClasses.CALENDAR&&addClass(s.selector,cssClasses.CALENDAR):s.selector=render(h("div",{class:t.selector+" "+cssClasses.CALENDAR})),s.calendar={},s.calendar.navigation=existElement(cssClasses.NAVIGATION,s.selector),isDef(s.calendar.navigation)||(s.calendar.navigation=render(h("div",{class:cssClasses.NAVIGATION}),s.selector)),isDef(t.nav[0])&&(s.calendar.prevMonth=render(h("div",{class:cssClasses.PREV},t.nav[0]),s.calendar.navigation),s.calendar.prevMonth.addEventListener("click",function(){return e.prev.cb()})),s.calendar.period=existElement(cssClasses.PERIOD,s.selector),isDef(s.calendar.period)||(s.calendar.period=render(h("div",{class:cssClasses.PERIOD}),s.calendar.navigation)),isDef(t.nav[1])&&(s.calendar.nextMonth=render(h("div",{class:cssClasses.NEXT},t.nav[1]),s.calendar.navigation),s.calendar.nextMonth.addEventListener("click",function(){return e.next.cb()})),s.calendar.week=existElement(cssClasses.WEEK,s.selector),isDef(s.calendar.week)||(s.calendar.week=render(h("div",{class:cssClasses.WEEK}),s.selector)),s.calendar.month=existElement(cssClasses.MONTH,s.selector),isDef(s.calendar.month)||(s.calendar.month=render(h("div",{class:cssClasses.MONTH}),s.selector)),t.rtl&&(addClass(s.calendar.week,cssClasses.RTL),addClass(s.calendar.month,cssClasses.RTL)),s}function format(t,e,s){return s+"-"+("0"+(e+1)).slice(-2)+"-"+("0"+t).slice(-2)}function humanToTimestamp(t){if(t&&(!isNaN(Number(t))||3!==t.split("-").length))throw new Error("The date "+t+" is not valid!");return t||"string"==typeof t?new Date(t+"T00:00:00Z").getTime():(new Date).setHours(0,0,0,0)}var cssClasses={CALENDAR:"hello-week",DAY:"day",MONTH:"month",NAVIGATION:"navigation",NEXT:"next",PERIOD:"period",PREV:"prev",RTL:"rtl",WEEK:"week"},cssStates={IS_BEGIN_RANGE:"is-begin-range",IS_DISABLED:"is-disabled",IS_END_RANGE:"is-end-range",IS_HIGHLIGHT:"is-highlight",IS_SELECTED:"is-selected",IS_TODAY:"is-today",IS_WEEKEND:"is-weekend"},daysWeek={FRIDAY:5,MONDAY:1,SATURDAY:6,SUNDAY:0,THURSDAY:4,TUESDAY:2,WEDNESDAY:3},formatDate={DEFAULT:"YYYY-MM-DD"},version="3.0.0",defaults={selector:".hello-week",lang:"en",langFolder:"./langs/",format:"DD/MM/YYYY",monthShort:!1,weekShort:!0,defaultDate:null,minDate:null,maxDate:null,disableDaysOfWeek:null,disableDates:null,weekStart:0,daysSelected:null,daysHighlight:null,multiplePick:!1,disablePastDays:!1,todayHighlight:!0,range:!1,locked:!1,rtl:!1,nav:["◀","▶"],onLoad:function(){},onClear:function(){},onNavigation:function(){},onSelect:function(){}},Utilities=function(){function t(){}return t.timestampToHuman=function(t,e,s){var a=new Date(t);return e=e.replace("dd",a.getDate().toString()),e=e.replace("DD",(a.getDate()>9?a.getDate():"0"+a.getDate()).toString()),e=e.replace("mm",(a.getMonth()+1).toString()),e=e.replace("MMM",s.months[a.getMonth()]),e=e.replace("MM",(a.getMonth()+1>9?a.getMonth()+1:"0"+(a.getMonth()+1)).toString()),e=e.replace("mmm",s.monthsShort[a.getMonth()]),e=e.replace("yyyy",a.getFullYear().toString()),e=e.replace("YYYY",a.getFullYear().toString()),e=e.replace("YY",a.getFullYear().toString().substring(2)),e=e.replace("yy",a.getFullYear().toString().substring(2))},t.formatDate=function(t,e,s){return s+"-"+("0"+(e+1)).slice(-2)+"-"+("0"+t).slice(-2)},t.setToTimestamp=function(t){if(t&&(!isNaN(Number(t))||3!==t.split("-").length))throw new Error("The date "+t+" is not valid!");return t||"string"==typeof t?new Date(t+"T00:00:00Z").getTime():(new Date).setHours(0,0,0,0)},t.creatHTMLElement=function(t,e,s,a){void 0===a&&(a=null);var i=t.querySelector("."+e);if(!i){if((i=document.createElement("div")).classList.add(e),null!==a){var n=document.createTextNode(a);i.appendChild(n)}s.appendChild(i)}return i},t.setDataAttr=function(t,e,s){return t.setAttribute(e,s)},t.setStyle=function(t,e,s){return t.style.setProperty(e,s)},t.addClass=function(t,e){return t.classList.add(e)},t.removeClass=function(t,e){return t.classList.remove(e)},t.toggleClass=function(t,e){return t.classList.toggle(e)},t.readFile=function(t,e){var s=new XMLHttpRequest;s.overrideMimeType("application/json"),s.open("GET",t,!0),s.onreadystatechange=function(){4===s.readyState&&200===s.status&&e(s.responseText)},s.send(null)},t.getIndexForEventTarget=function(t,e){return Array.prototype.slice.call(t).indexOf(e)+1},t.checkUrl=function(t){return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:\/?#[\]@!\$&'\(\)\*\+,;=.]+$/.test(t)},t.extend=function(t,e){var s=e||{selector:".hello-week",lang:"en",langFolder:"./langs/",format:"DD/MM/YYYY",monthShort:!1,weekShort:!0,defaultDate:null,minDate:null,maxDate:null,disabledDaysOfWeek:null,disableDates:null,weekStart:0,daysSelected:null,daysHighlight:null,multiplePick:!1,disablePastDays:!1,todayHighlight:!0,range:!1,locked:!1,rtl:!1,nav:["◀","▶"],onLoad:function(){},onNavigation:function(){},onSelect:function(){},onClear:function(){}};return Object.assign(s,t)},t}(),HelloWeek=function(){function t(t){var e=this;void 0===t&&(t={}),this.calendar={},this.intervalRange={},this.daysSelected=[],this.options=extend(extend({},defaults),t),this.defaultsOptions=extend(extend({},defaults),t);var s=build(this.options,{prev:{cb:function(){return e.prev()}},next:{cb:function(){return e.next()}}});this.selector=s.selector,this.calendar=s.calendar,Utilities.checkUrl(this.options.langFolder)?Utilities.readFile(this.options.langFolder,function(t){e.langs=JSON.parse(t),e.init(function(){})}):Utilities.readFile(this.options.langFolder+this.options.lang+".json",function(t){e.langs=JSON.parse(t),e.init(function(){})})}return t.prototype.destroy=function(){this.removeStatesClass(),this.selector.remove()},t.prototype.prev=function(t){var e=this.date.getMonth()-1;this.date.setMonth(e),this.update(),this.options.onNavigation.call(this),t&&t.call(this)},t.prototype.next=function(t){var e=this.date.getMonth()+1;this.date.setMonth(e),this.update(),this.options.onNavigation.call(this),t&&t.call(this)},t.prototype.update=function(){this.clearCalendar(),this.mounted()},t.prototype.reset=function(t,e){void 0===t&&(t={}),this.clearCalendar(),this.options=extend(t,this.defaultsOptions),this.init(e)},t.prototype.goToday=function(){this.date=this.todayDate,this.date.setDate(1),this.update()},t.prototype.goToDate=function(t){void 0===t&&(t=this.todayDate),this.date=new Date(t),this.date.setDate(1),this.update()},t.prototype.getDays=function(){var t=this;return this.daysSelected.map(function(e){return Utilities.timestampToHuman(e,t.options.format,t.langs)})},t.prototype.getDaySelected=function(){return this.lastSelectedDay},t.prototype.getDaysHighlight=function(){return this.daysHighlight},t.prototype.getMonth=function(){return this.date.getMonth()+1},t.prototype.getYear=function(){return this.date.getFullYear()},t.prototype.setDaysHighlight=function(t){this.daysHighlight=__spreadArrays(this.daysHighlight,t)},t.prototype.setMultiplePick=function(t){this.options.multiplePick=t},t.prototype.setDisablePastDays=function(t){this.options.disablePastDays=t},t.prototype.setTodayHighlight=function(t){this.options.todayHighlight=t},t.prototype.setRange=function(t){this.options.range=t},t.prototype.setLocked=function(t){this.options.locked=t},t.prototype.setMinDate=function(t){this.options.minDate=new Date(t),this.options.minDate.setHours(0,0,0,0),this.options.minDate.setDate(this.options.minDate.getDate()-1)},t.prototype.setMaxDate=function(t){this.options.maxDate=new Date(t),this.options.maxDate.setHours(0,0,0,0),this.options.maxDate.setDate(this.options.maxDate.getDate()+1)},t.prototype.init=function(t){if(this.daysHighlight=this.options.daysHighlight?this.options.daysHighlight:[],this.daysSelected=this.options.daysSelected?this.options.daysSelected:[],this.daysSelected.length>1&&!this.options.multiplePick)throw new Error("There are "+this.daysSelected.length+" dates selected, but the multiplePick option\n                is "+this.options.multiplePick+"!");this.todayDate=Utilities.setToTimestamp()-1e3*(new Date).getTimezoneOffset()*60,this.date=new Date,this.defaultDate=new Date,this.options.defaultDate&&(this.date=new Date(this.options.defaultDate),this.defaultDate=new Date(this.options.defaultDate),this.defaultDate.setDate(this.defaultDate.getDate())),this.date.setDate(1),this.options.minDate&&this.setMinDate(this.options.minDate),this.options.maxDate&&this.setMaxDate(this.options.maxDate),this.mounted(),this.options.onLoad.call(this),t&&t.call(this)},t.prototype.selectDay=function(t){this.daysOfMonth=this.selector.querySelectorAll("."+cssClasses.MONTH+" ."+cssClasses.DAY);for(var e=0,s=Object.keys(this.daysOfMonth);e<s.length;e++){var a=s[e];this.handleClickInteraction(this.daysOfMonth[a],t),this.options.range&&this.handleMouseInteraction(this.daysOfMonth[a])}},t.prototype.getIntervalOfDates=function(t,e){for(var s=this,a=[],i=t,n=function(t){var e=s.date(s.valueOf());return e.setDate(e.getDate()+t),e.getTime()};i<=e;)a.push(Utilities.timestampToHuman(i,formatDate.DEFAULT,this.langs)),i=n.call(i,1);return a},t.prototype.handleClickInteraction=function(t,e){var s=this;t.addEventListener("click",function(t){var a=Utilities.getIndexForEventTarget(s.daysOfMonth,t.target);s.days[a].locked||(s.lastSelectedDay=s.days[a].timestamp,s.options.range||(s.options.multiplePick?(s.days[a].timestamp&&(s.daysSelected=s.daysSelected.filter(function(t){return Utilities.setToTimestamp(t)!==s.lastSelectedDay})),s.days[a].isSelected||s.daysSelected.push(Utilities.timestampToHuman(s.lastSelectedDay,formatDate.DEFAULT,s.langs))):(s.days[a].locked||s.removeStatesClass(),s.daysSelected=[],s.daysSelected.push(Utilities.timestampToHuman(s.lastSelectedDay,formatDate.DEFAULT,s.langs)))),toggleClass(t.target,cssStates.IS_SELECTED),s.days[a].isSelected=!s.days[a].isSelected,s.options.range&&(s.intervalRange.begin&&s.intervalRange.end&&(s.intervalRange.begin=void 0,s.intervalRange.end=void 0,s.removeStatesClass()),s.intervalRange.begin&&!s.intervalRange.end&&(s.intervalRange.end=s.days[a].timestamp,s.daysSelected=s.getIntervalOfDates(s.intervalRange.begin,s.intervalRange.end),addClass(t.target,cssStates.IS_END_RANGE),s.intervalRange.begin>s.intervalRange.end&&(s.intervalRange.begin=void 0,s.intervalRange.end=void 0,s.removeStatesClass())),s.intervalRange.begin||(s.intervalRange.begin=s.days[a].timestamp),addClass(t.target,cssStates.IS_SELECTED)),s.options.onSelect.call(s),e&&e.call(s))})},t.prototype.handleMouseInteraction=function(t){var e=this;t.addEventListener("mouseover",function(t){var s=Utilities.getIndexForEventTarget(e.daysOfMonth,t.target);if(!(!e.intervalRange.begin||e.intervalRange.begin&&e.intervalRange.end)){e.removeStatesClass();for(var a=1;a<=Object.keys(e.days).length;a++)e.days[a].isSelected=!1,e.days[s].timestamp>=e.intervalRange.begin&&e.days[a].timestamp>=e.intervalRange.begin&&e.days[a].timestamp<=e.days[s].timestamp&&(addClass(e.days[a].element,cssStates.IS_SELECTED),e.days[a].timestamp===e.intervalRange.begin&&addClass(e.days[a].element,cssStates.IS_BEGIN_RANGE))}})},t.prototype.creatWeek=function(t){createElement("span",{class:cssClasses.DAY},t,this.calendar.week)},t.prototype.createMonth=function(){for(var t=this.date.getMonth();this.date.getMonth()===t;)this.createDay(this.date),this.date.setDate(this.date.getDate()+1);this.date.setMonth(this.date.getMonth()-1),this.selectDay(function(){})},t.prototype.createDay=function(t){var e=t.getDate(),s=t.getDay(),a={day:e,timestamp:humanToTimestamp(format(t.getDate(),t.getMonth(),t.getFullYear())),isWeekend:!1,locked:!1,isToday:!1,isSelected:!1,isHighlight:!1,element:void 0};this.days=this.days||{};var i=createElement("div",{class:cssClasses.DAY},String(a.day),this.calendar.month);1===a.day&&(this.options.weekStart===daysWeek.SUNDAY?setStyle(i,this.options.rtl?"margin-right":"margin-left",s*(100/Object.keys(daysWeek).length)+"%"):s===daysWeek.SUNDAY?setStyle(i,this.options.rtl?"margin-right":"margin-left",(Object.keys(daysWeek).length-this.options.weekStart)*(100/Object.keys(daysWeek).length)+"%"):setStyle(i,this.options.rtl?"margin-right":"margin-left",(s-1)*(100/Object.keys(daysWeek).length)+"%")),s!==daysWeek.SUNDAY&&s!==daysWeek.SATURDAY||(addClass(i,cssStates.IS_WEEKEND),a.isWeekend=!0),(this.options.locked||this.options.disableDaysOfWeek&&this.options.disableDaysOfWeek.includes(s)||this.options.disablePastDays&&+this.date.setHours(0,0,0,0)<=+this.defaultDate.setHours(0,0,0,0)-1||this.options.minDate&&+this.options.minDate>=a.timestamp||this.options.maxDate&&+this.options.maxDate<=a.timestamp)&&(addClass(i,cssStates.IS_DISABLED),a.locked=!0),this.options.disableDates&&this.setDaysDisable(i,a),log("todayDate",this.todayDate),warn(a.timestamp),this.todayDate===a.timestamp&&this.options.todayHighlight&&(addClass(i,cssStates.IS_TODAY),a.isToday=!0),this.daysSelected.find(function(t){t!==a.timestamp&&humanToTimestamp(t.toString())!==a.timestamp||(addClass(i,cssStates.IS_SELECTED),a.isSelected=!0)}),a.timestamp===this.intervalRange.begin&&addClass(i,cssStates.IS_BEGIN_RANGE),a.timestamp===this.intervalRange.end&&addClass(i,cssStates.IS_END_RANGE),this.daysHighlight&&this.setDayHighlight(i,a),a.element=i,this.days[a.day]=a},t.prototype.setDaysDisable=function(t,e){this.options.disableDates[0]instanceof Array?this.options.disableDates.map(function(s){e.timestamp>=Utilities.setToTimestamp(s[0])&&e.timestamp<=Utilities.setToTimestamp(s[1])&&(addClass(t,cssStates.IS_DISABLED),e.locked=!0)}):this.options.disableDates.map(function(s){e.timestamp===Utilities.setToTimestamp(s)&&(addClass(t,cssStates.IS_DISABLED),e.locked=!0)})},t.prototype.setDayHighlight=function(t,e){var s=this,a=this;for(var i in this.daysHighlight)!function(i){a.daysHighlight[i].days[0]instanceof Array?a.daysHighlight[i].days.map(function(a,n){e.timestamp>=Utilities.setToTimestamp(a[0])&&e.timestamp<=Utilities.setToTimestamp(a[1])&&s.setStyleDayHighlight(t,i,e)}):a.daysHighlight[i].days.map(function(a){e.timestamp===Utilities.setToTimestamp(a)&&s.setStyleDayHighlight(t,i,e)})}(i)},t.prototype.setStyleDayHighlight=function(t,e,s){addClass(t,cssStates.IS_HIGHLIGHT),this.daysHighlight[e].title&&(s.tile=this.daysHighlight[e].title,Utilities.setDataAttr(t,"data-title",this.daysHighlight[e].title)),this.daysHighlight[e].color&&setStyle(t,"color",this.daysHighlight[e].color),this.daysHighlight[e].backgroundColor&&setStyle(t,"background-color",this.daysHighlight[e].backgroundColor),s.isHighlight=!0},t.prototype.monthsAsString=function(t){return this.options.monthShort?this.langs.monthsShort[t]:this.langs.months[t]},t.prototype.weekAsString=function(t){return this.options.weekShort?this.langs.daysShort[t]:this.langs.days[t]},t.prototype.mounted=function(){var t=[];this.calendar.period&&(this.calendar.period.innerHTML=this.monthsAsString(this.date.getMonth())+" "+this.date.getFullYear()),this.calendar.week.textContent="";for(e=this.options.weekStart;e<this.langs.daysShort.length;e++)t.push(e);for(var e=0;e<this.options.weekStart;e++)t.push(e);for(var s=0,a=t;s<a.length;s++){var i=a[s];this.creatWeek(this.weekAsString(i))}this.createMonth()},t.prototype.clearCalendar=function(){this.calendar.month.textContent=""},t.prototype.removeStatesClass=function(){for(var t=0,e=Object.keys(this.daysOfMonth);t<e.length;t++){var s=e[t];removeClass(this.daysOfMonth[s],cssStates.IS_SELECTED),removeClass(this.daysOfMonth[s],cssStates.IS_BEGIN_RANGE),removeClass(this.daysOfMonth[s],cssStates.IS_END_RANGE),this.days[+s+1].isSelected=!1}},t}(),HelloWeek$1=HelloWeek;window.HelloWeek=HelloWeek$1;export default HelloWeek;export{HelloWeek$1 as HelloWeek};
